(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1:function(t,e,a){t.exports=a("ioqZ")},"3ALM":function(t,e,a){(e=a("JPst")(!1)).push([t.i,"\nimg.img-fluid[data-v-437ba857] {\n  max-width: 350px;\n}\n",""]),t.exports=e},"3Njr":function(t,e,a){var n=a("67wN");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},"67wN":function(t,e,a){(e=a("JPst")(!1)).push([t.i,".admin-layout-grid[data-v-4e38b45e] {\n  display: grid;\n  grid-template-columns: 250px 1fr;\n  height: 100vh;\n}\n.admin-layout-grid .admin-layout-grid--sidebar[data-v-4e38b45e] {\n  background-color: #015C83;\n}\n.admin-layout-grid .admin-layout-grid--sidebar .sidebar[data-v-4e38b45e] {\n  position: fixed;\n  width: 250px;\n}\n.admin-layout-grid .admin-layout-grid--sidebar .menu .menu--link[data-v-4e38b45e] {\n  padding: 0.5rem;\n  width: 100%;\n  display: block;\n  color: #FFF;\n  transition: all ease 0.2s;\n  border-radius: 7px;\n}\n.admin-layout-grid .admin-layout-grid--sidebar .menu .menu--link[data-v-4e38b45e]:hover {\n  background-color: #017BB0;\n}",""]),t.exports=e},"6vkW":function(t,e,a){"use strict";var n=a("HrNz");a.n(n).a},HrNz:function(t,e,a){var n=a("3ALM");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},dyeZ:function(t,e,a){"use strict";var n=a("giw4");a.n(n).a},eGrR:function(t,e,a){"use strict";var n=a("3Njr");a.n(n).a},giw4:function(t,e,a){var n=a("q1Kq");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)},ioqZ:function(t,e,a){"use strict";a.r(e);var n=a("oCYn"),i=a("pvRw"),r=a("X1uE"),s=a("seCU");a("+eM2"),a("LdiE");n.default.use(r.a),n.default.use(s.a);var o=a("vDqi"),l=a.n(o),c={name:"AdminLayout",props:{appName:String},methods:{handleLogout:function(){l.a.post("/logout").then((function(){window.location.href="/login"}))}}},u=(a("eGrR"),a("KHd+")),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-layout-grid"},[a("div",{staticClass:"admin-layout-grid--sidebar"},[a("div",{staticClass:"sidebar mt-3"},[a("a",{staticClass:"title",attrs:{href:"/"}},[a("h4",{staticClass:"text-center text-white"},[t._v("\n          "+t._s(t.appName)+" "),a("br"),t._v(" "),a("small",[t._v("\n            Administrator Mode\n          ")])])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"menu px-4"},[a("a",{staticClass:"menu--link",attrs:{href:"#"},on:{click:t.handleLogout}},[t._v("\n          Logout\n        ")])])]),t._v(" "),a("form",{staticStyle:{display:"none"},attrs:{id:"logout-form",action:"/logout",method:"POST"}})]),t._v(" "),a("div",{staticClass:"admin-layout-grid--content"},[t._t("default")],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu px-4"},[e("a",{staticClass:"menu--link",attrs:{href:"/admin"}},[this._v("\n          Dashboard\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu px-4"},[e("a",{staticClass:"menu--link",attrs:{href:"/admin/blogs"}},[this._v("\n          Blogs\n        ")])])}],!1,null,"4e38b45e",null).exports,m=a("o0o1"),p=a.n(m),v=a("PSD3"),f=a.n(v);function b(t,e,a,n,i,r,s){try{var o=t[r](s),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(n,i)}function h(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var r=t.apply(e,a);function s(t){b(r,n,i,s,o,"next",t)}function o(t){b(r,n,i,s,o,"throw",t)}s(void 0)}))}}function g(t){return _.apply(this,arguments)}function _(){return(_=h(p.a.mark((function t(e){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.fire({icon:"warning",text:e,showCancelButton:!0,cancelButtonText:"I don't want to",confirmButtonText:"Yes, do it"});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f.a.fire({icon:e,text:t}).then((function(){a&&window.location.reload()}))}var w=class{constructor(t=null){this.__Personal=Object(i.d)({data:{email:""}}),t&&(this.__Personal.value=t)}getPersonal(){return this.__Personal}prepareFormData(t){if(!t)return{personal:this.__Personal.value};const e=new FormData;return e.append("personal",JSON.stringify(this.__Personal.value)),e.append("file",t.file),e}async save(t){if((await g("Do you want to save your personal data?")).isConfirmed){const e=this.prepareFormData(t),a=await l()({url:"/admin/personal/"+this.__Personal.value.id,method:"post",data:e});a.data.band&&y(a.data.text,a.data.icon,!0)}}},C=a("AG8i"),x=Object(i.c)({name:"PersonalIndex",props:{personal:{type:Object}},components:{FileInput:C.a},setup(t){const e=Object(i.d)(null),a=new w(t.personal),n=a.getPersonal(),r=Object(i.a)(()=>null===e.value?n.value.data.photo:e.value.fileBlob);return{file:e,personalData:n,previewPhoto:r,handleForm:async()=>{a.save(e.value)}}}}),P=(a("dyeZ"),Object(u.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid"},[a("div",{staticClass:"grid--image-preview"},[t._m(0),t._v(" "),a("img",{staticClass:"img-fluid d-block mx-auto",attrs:{src:t.previewPhoto,alt:""}})]),t._v(" "),a("div",{staticClass:"grid--form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.handleForm(e)}}},[a("b-form-group",{attrs:{label:"Name"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Put your name here ...",required:""},model:{value:t.personalData.data.name,callback:function(e){t.$set(t.personalData.data,"name",e)},expression:"personalData.data.name"}})],1),t._v(" "),a("b-form-group",{attrs:{label:"Position"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Put your dev position here ...",required:""},model:{value:t.personalData.data.position,callback:function(e){t.$set(t.personalData.data,"position",e)},expression:"personalData.data.position"}})],1),t._v(" "),a("b-form-group",{attrs:{label:"Email"}},[a("b-form-input",{attrs:{type:"email",placeholder:"Put your contact email here ...",required:""},model:{value:t.personalData.data.email,callback:function(e){t.$set(t.personalData.data,"email",e)},expression:"personalData.data.email"}})],1),t._v(" "),a("b-form-group",{attrs:{label:"Photo"}},[a("file-input",{attrs:{"is-image":""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),t._m(1)],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:""}},[e("b",[this._v("\n        Image Preview\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-block w-100 mt-4"},[e("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[this._v("\n          Save\n        ")])])}],!1,null,"b279f290",null).exports),E={name:"AdminDashboard",props:{appName:String,personal:Object},components:{PersonalIndex:P}},k=Object(u.a)(E,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-layout",{attrs:{"app-name":this.appName}},[e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("h1",{staticClass:"mt-2 mb-4"},[this._v("Welcome to the Administrator mode")]),this._v(" "),e("personal-index",{attrs:{personal:this.personal}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,S={name:"AdminBlogTable",props:{blogs:Array},data:function(){return{fields:[{label:"Title",key:"title"},{label:"Status",key:"status"},{label:"Created at",key:"created_at"},{label:"Published at",key:"published_at"},{label:"Opciones",key:"opciones"}],currentPage:1,perPage:5,filter:null}},methods:{handleSetEntryStatus:function(t){this.$emit("emitHandleSetEntryStatus",t)},handleDestroyEntry:function(t){this.$emit("emitHandleDestroyEntry",t)}}},D=Object(u.a)(S,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"block"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-md-6 mb-3"},[a("div",{staticClass:"float-left"},[t._v("\n          Showing\n          "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),a("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),a("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),a("option",{attrs:{value:"50"}},[t._v("50")])]),t._v("\n          entries\n        ")])]),t._v(" "),a("div",{staticClass:"col-12 col-md-6 mb-3"},[a("div",{staticClass:"float-right"},[a("div",{staticClass:"input-group my-2"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])])])])]),t._v(" "),a("b-table",{attrs:{id:"blog-table",striped:"",bordered:"",hover:"",responsive:"",items:t.blogs,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter,"show-empty":""},scopedSlots:t._u([{key:"cell(status)",fn:function(e){return[1===e.item.publish?a("span",[t._v("\n        Activo\n      ")]):a("span",[t._v("\n        Inativo\n      ")])]}},{key:"cell(opciones)",fn:function(e){return[a("a",{staticClass:"btn btn-info my-2",attrs:{href:"/admin/blogs/"+e.item.id+"/edit"}},[t._v("\n        Edit\n      ")]),t._v(" "),a("button",{staticClass:"btn my-2",class:{"btn-warning":1===e.item.publish,"btn-success":0===e.item.publish},on:{click:function(a){return t.handleSetEntryStatus(e.item)}}},[1===e.item.publish?a("span",[t._v("\n          Unpublish\n        ")]):a("span",[t._v("\n          Publish\n        ")])]),t._v(" "),a("button",{staticClass:"btn btn-danger my-2",on:{click:function(a){return t.handleDestroyEntry(e.item)}}},[t._v("\n        Destroy\n      ")])]}}])}),t._v(" "),a("div",{staticClass:"block"},[a("b-pagination",{attrs:{align:"right","total-rows":t.blogs.length,"per-page":t.perPage,"aria-controls":"blog-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text mr-2"},[this._v("Search")])])}],!1,null,null,null).exports;function N(t,e,a,n,i,r,s){try{var o=t[r](s),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(n,i)}function O(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var r=t.apply(e,a);function s(t){N(r,n,i,s,o,"next",t)}function o(t){N(r,n,i,s,o,"throw",t)}s(void 0)}))}}var $={name:"AdminDashboard",props:{appName:String,blogs:Array},components:{BlogsTable:D},methods:{handleSetEntryStatus:function(t){var e=this;return O(p.a.mark((function a(){var n,i;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=1===t.publish?"Do you want to unpublish the entry?":"Do you want to publish the entry?",a.next=3,g(n);case 3:a.sent.isConfirmed&&(i=1!==t.publish,e.changeEntryStatus(t.id,i));case 5:case"end":return a.stop()}}),a)})))()},changeEntryStatus:function(t,e){return O(p.a.mark((function a(){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l()({url:"/admin/blogs/setStatus",method:"POST",data:{id:t,status:e}});case 2:(n=a.sent).data.band&&y(n.data.text,n.data.icon,!0);case 4:case"end":return a.stop()}}),a)})))()},handleDestroyEntry:function(t){return O(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g("Do you want to destroy this entry?");case 2:if(!e.sent.isConfirmed){e.next=8;break}return e.next=6,l()({url:"/admin/blogs/".concat(t.id),method:"DELETE"});case 6:(a=e.sent).data.band&&y(a.data.text,a.data.icon,!0);case 8:case"end":return e.stop()}}),e)})))()}}},j=Object(u.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("admin-layout",{attrs:{"app-name":t.appName}},[a("b-container",{attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"mt-2 mb-4"},[t._v("Blogs "),a("small",[t._v("Index")])])]),t._v(" "),a("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[a("div",{staticClass:"float-right"},[a("a",{staticClass:"btn btn-primary",attrs:{href:"/admin/blogs/create"}},[t._v("\n              Create new entry\n            ")])])]),t._v(" "),a("b-col",{attrs:{cols:"12"}},[a("blogs-table",{attrs:{blogs:t.blogs},on:{emitHandleSetEntryStatus:t.handleSetEntryStatus,emitHandleDestroyEntry:t.handleDestroyEntry}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,B=a("1M3H"),A=a.n(B),T={props:{blog:Object,isEdit:{type:Boolean,default:function(){return!1}}},data:function(){return{bandPreview:!1,form:{title:"",thumbnail:"",content:""},preview:null}},created:function(){this.isEdit&&(this.form=this.blog)},methods:{previewContent:function(){var t=new A.a;this.preview=t.render(this.form.content),this.bandPreview=!this.bandPreview},save:function(){f.a.fire({html:"<p>Saving entry...</p>",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1});var t=this.isEdit?"PUT":"POST",e=this.isEdit?"/admin/blogs/".concat(this.blog.id):"/admin/blogs";l()({url:e,method:t,data:this.form}).then((function(t){f.a.fire({icon:t.data.type,text:t.data.message,allowOutsideClick:!1,allowEscapeKey:!1}).then((function(){t.data.band&&(window.location.href="/admin/blogs")}))}))}}},F=(a("6vkW"),Object(u.a)(T,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h1",{staticClass:"mt-2 mb-4"},[t._v("\n      Blog\n      "),a("small",[t.isEdit?a("span",[t._v("\n          Editar\n        ")]):a("span",[t._v("\n          Crear\n        ")])])]),t._v(" "),a("div",{staticClass:"float-left"},[t.bandPreview?a("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.bandPreview=!t.bandPreview}}},[t._v("Go back")]):a("a",{staticClass:"btn btn-secondary",attrs:{href:"/admin/blogs"}},[t._v("Go back")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.bandPreview,expression:"!bandPreview"}],staticClass:"col-12 my-5"},[a("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.previewContent()}}},[a("div",{staticClass:"col-12 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Title")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{name:"title",type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-12 mb-3"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"title"}},[t._v("Thumbnail URL")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.thumbnail,expression:"form.thumbnail"}],staticClass:"form-control",attrs:{name:"title",type:"text"},domProps:{value:t.form.thumbnail},on:{input:function(e){e.target.composing||t.$set(t.form,"thumbnail",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-12 mb-4"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"content"}},[t._v("Content")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.content,expression:"form.content"}],staticClass:"form-control",attrs:{rows:"20"},domProps:{value:t.form.content},on:{input:function(e){e.target.composing||t.$set(t.form,"content",e.target.value)}}})])]),t._v(" "),t._m(0)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.bandPreview,expression:"bandPreview"}],staticClass:"col-12 blog-post"},[a("h1",[t._v(t._s(t.form.title))]),t._v(" "),a("p",[a("b",[t._v("URL:")]),t._v("\n      manuelojeda.xyz/Blog/"+t._s(t.form.seo)+"\n    ")]),t._v(" "),a("img",{staticClass:"img-fluid",attrs:{src:t.form.thumbnail}}),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.preview)}}),t._v(" "),a("button",{staticClass:"btn btn-primary btn-info",attrs:{type:"submit"},on:{click:function(e){return t.save()}}},[t._v("Save entry")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Preview content")])])}],!1,null,"437ba857",null).exports),L={name:"AdminBlogEdit",props:{appName:String,blog:Object},components:{AdminBlogForm:F}},q=Object(u.a)(L,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-layout",{attrs:{"app-name":this.appName}},[e("b-container",{attrs:{fluid:""}},[e("admin-blog-form")],1)],1)],1)}),[],!1,null,null,null).exports,I={name:"AdminBlogEdit",props:{appName:String,blog:Object},components:{AdminBlogForm:F}},H=Object(u.a)(I,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("admin-layout",{attrs:{"app-name":this.appName}},[e("b-container",{attrs:{fluid:""}},[e("admin-blog-form",{attrs:{blog:this.blog,"is-edit":""}})],1)],1)],1)}),[],!1,null,null,null).exports;n.default.component("admin-layout",d),n.default.component("admin-dashboard",k),n.default.component("admin-blog-index",j),n.default.component("admin-blog-edit",H),n.default.component("admin-blog-create",q),n.default.use(i.b);new n.default({}).$mount("#admin")},q1Kq:function(t,e,a){(e=a("JPst")(!1)).push([t.i,".grid[data-v-b279f290] {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 30px;\n}",""]),t.exports=e}},[[1,0,1]]]);