"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[467],{7547:(t,e,n)=>{var a=n(538),r=n(5706),i=n(2393),o=n(3017);n(5969),n(236);a.default.use(i.XG7),a.default.use(o.A7);var s=n(9669),l=n.n(s);const c={name:"AdminLayout",props:{appName:String},methods:{handleLogout:function(){l().post("/logout").then((function(){window.location.href="/login"}))}}};var u=n(3379),d=n.n(u),m=n(7182),v={insert:"head",singleton:!1};d()(m.Z,v);m.Z.locals;var p=n(1900);const f=(0,p.Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin-layout-grid"},[n("div",{staticClass:"admin-layout-grid--sidebar"},[n("div",{staticClass:"sidebar mt-3"},[n("a",{staticClass:"title",attrs:{href:"/"}},[n("h4",{staticClass:"text-center text-white"},[t._v("\n          "+t._s(t.appName)+" "),n("br"),t._v(" "),n("small",[t._v("\n            Administrator Mode\n          ")])])]),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"menu px-4"},[n("a",{staticClass:"menu--link",attrs:{href:"#"},on:{click:t.handleLogout}},[t._v("\n          Logout\n        ")])])]),t._v(" "),n("form",{staticStyle:{display:"none"},attrs:{id:"logout-form",action:"/logout",method:"POST"}})]),t._v(" "),n("div",{staticClass:"admin-layout-grid--content"},[t._t("default")],2)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu px-4"},[n("a",{staticClass:"menu--link",attrs:{href:"/admin"}},[t._v("\n          Dashboard\n        ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu px-4"},[n("a",{staticClass:"menu--link",attrs:{href:"/admin/blogs"}},[t._v("\n          Blogs\n        ")])])}],!1,null,"4e38b45e",null).exports;var b=n(7757),h=n.n(b),g=n(6455),_=n.n(g);function y(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function w(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function o(t){y(i,a,r,o,s,"next",t)}function s(t){y(i,a,r,o,s,"throw",t)}o(void 0)}))}}function C(t){return x.apply(this,arguments)}function x(){return(x=w(h().mark((function t(e){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_().fire({icon:"warning",text:e,showCancelButton:!0,cancelButtonText:"I don't want to",confirmButtonText:"Yes, do it"});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_().fire({icon:e,text:t}).then((function(){n&&window.location.reload()}))}function k(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}const D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;E(this,t),this.__Personal=(0,r.iH)({data:{email:""}}),e&&(this.__Personal.value=e)}var e,n,a,i,o;return e=t,n=[{key:"getPersonal",value:function(){return this.__Personal}},{key:"prepareFormData",value:function(t){if(!t)return{personal:this.__Personal.value};var e=new FormData;return e.append("personal",JSON.stringify(this.__Personal.value)),e.append("file",t.file),e}},{key:"save",value:(i=h().mark((function t(e){var n,a;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C("Do you want to save your personal data?");case 2:if(!t.sent.isConfirmed){t.next=9;break}return n=this.prepareFormData(e),t.next=7,l()({url:"/admin/personal/".concat(this.__Personal.value.id),method:"post",data:n});case 7:(a=t.sent).data.band&&P(a.data.text,a.data.icon,!0);case 9:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,a){var r=i.apply(t,e);function o(t){k(r,n,a,o,s,"next",t)}function s(t){k(r,n,a,o,s,"throw",t)}o(void 0)}))},function(t){return o.apply(this,arguments)})}],n&&S(e.prototype,n),a&&S(e,a),t}();var $=n(822);function Z(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}const N=(0,r.aZ)({name:"PersonalIndex",props:{personal:{type:Object}},components:{FileInput:$.Z},setup:function(t){var e=(0,r.iH)(null),n=new D(t.personal),a=n.getPersonal(),i=(0,r.Fl)((function(){return null===e.value?a.value.data.photo:e.value.fileBlob})),o=function(){var t,a=(t=h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.save(e.value);case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function o(t){Z(i,a,r,o,s,"next",t)}function s(t){Z(i,a,r,o,s,"throw",t)}o(void 0)}))});return function(){return a.apply(this,arguments)}}();return{file:e,personalData:a,previewPhoto:i,handleForm:o}}});var B=n(261),A={insert:"head",singleton:!1};d()(B.Z,A);B.Z.locals;const O=(0,p.Z)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"grid"},[n("div",{staticClass:"grid--image-preview"},[t._m(0),t._v(" "),n("img",{staticClass:"img-fluid d-block mx-auto",attrs:{src:t.previewPhoto,alt:""}})]),t._v(" "),n("div",{staticClass:"grid--form"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.handleForm(e)}}},[n("b-form-group",{attrs:{label:"Name"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Put your name here ...",required:""},model:{value:t.personalData.data.name,callback:function(e){t.$set(t.personalData.data,"name",e)},expression:"personalData.data.name"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Position"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Put your dev position here ...",required:""},model:{value:t.personalData.data.position,callback:function(e){t.$set(t.personalData.data,"position",e)},expression:"personalData.data.position"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Email"}},[n("b-form-input",{attrs:{type:"email",placeholder:"Put your contact email here ...",required:""},model:{value:t.personalData.data.email,callback:function(e){t.$set(t.personalData.data,"email",e)},expression:"personalData.data.email"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Photo"}},[n("file-input",{attrs:{"is-image":""},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),t._m(1)],1)])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{attrs:{for:""}},[n("b",[t._v("\n        Image Preview\n      ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-block w-100 mt-4"},[n("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[t._v("\n          Save\n        ")])])}],!1,null,"b279f290",null).exports,T={name:"AdminDashboard",props:{appName:String,personal:Object},components:{PersonalIndex:O}};const F=(0,p.Z)(T,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("admin-layout",{attrs:{"app-name":t.appName}},[n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("h1",{staticClass:"mt-2 mb-4"},[t._v("Welcome to the Administrator mode")]),t._v(" "),n("personal-index",{attrs:{personal:t.personal}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports;const L={name:"AdminBlogTable",props:{blogs:Array},data:function(){return{fields:[{label:"Title",key:"title"},{label:"Status",key:"status"},{label:"Created at",key:"created_at"},{label:"Published at",key:"published_at"},{label:"Opciones",key:"opciones"}],currentPage:1,perPage:5,filter:null}},methods:{handleSetEntryStatus:function(t){this.$emit("emitHandleSetEntryStatus",t)},handleDestroyEntry:function(t){this.$emit("emitHandleDestroyEntry",t)}}};const j=(0,p.Z)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"block"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-6 mb-3"},[n("div",{staticClass:"float-left"},[t._v("\n          Showing\n          "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.perPage=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),n("option",{attrs:{value:"10"}},[t._v("10")]),t._v(" "),n("option",{attrs:{value:"25"}},[t._v("25")]),t._v(" "),n("option",{attrs:{value:"50"}},[t._v("50")])]),t._v("\n          entries\n        ")])]),t._v(" "),n("div",{staticClass:"col-12 col-md-6 mb-3"},[n("div",{staticClass:"float-right"},[n("div",{staticClass:"input-group my-2"},[t._m(0),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}})])])])])]),t._v(" "),n("b-table",{attrs:{id:"blog-table",striped:"",bordered:"",hover:"",responsive:"",items:t.blogs,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage,filter:t.filter,"show-empty":""},scopedSlots:t._u([{key:"cell(status)",fn:function(e){return[1===e.item.publish?n("span",[t._v("\n        Active\n      ")]):n("span",[t._v("\n        Inactive\n      ")])]}},{key:"cell(opciones)",fn:function(e){return[n("a",{staticClass:"btn btn-info my-2",attrs:{href:"/admin/blogs/"+e.item.id+"/edit"}},[t._v("\n        Edit\n      ")]),t._v(" "),n("button",{staticClass:"btn my-2",class:{"btn-warning":1===e.item.publish,"btn-success":0===e.item.publish},on:{click:function(n){return t.handleSetEntryStatus(e.item)}}},[1===e.item.publish?n("span",[t._v("\n          Unpublish\n        ")]):n("span",[t._v("\n          Publish\n        ")])]),t._v(" "),n("button",{staticClass:"btn btn-danger my-2",on:{click:function(n){return t.handleDestroyEntry(e.item)}}},[t._v("\n        Destroy\n      ")])]}}])}),t._v(" "),n("div",{staticClass:"block"},[n("b-pagination",{attrs:{align:"right","total-rows":t.blogs.length,"per-page":t.perPage,"aria-controls":"blog-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-prepend"},[n("div",{staticClass:"input-group-text mr-2"},[t._v("Search")])])}],!1,null,null,null).exports;function H(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var i=t.apply(e,n);function o(t){H(i,a,r,o,s,"next",t)}function s(t){H(i,a,r,o,s,"throw",t)}o(void 0)}))}}const U={name:"AdminDashboard",props:{appName:String,blogs:Array},components:{BlogsTable:j},methods:{handleSetEntryStatus:function(t){var e=this;return I(h().mark((function n(){var a,r;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=1===t.publish?"Do you want to unpublish the entry?":"Do you want to publish the entry?",n.next=3,C(a);case 3:n.sent.isConfirmed&&(r=1!==t.publish,e.changeEntryStatus(t.id,r));case 5:case"end":return n.stop()}}),n)})))()},changeEntryStatus:function(t,e){return I(h().mark((function n(){var a;return h().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l()({url:"/admin/blogs/setStatus",method:"POST",data:{id:t,status:e}});case 2:(a=n.sent).data.band&&P(a.data.text,a.data.icon,!0);case 4:case"end":return n.stop()}}),n)})))()},handleDestroyEntry:function(t){return I(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("Do you want to destroy this entry?");case 2:if(!e.sent.isConfirmed){e.next=8;break}return e.next=6,l()({url:"/admin/blogs/".concat(t.id),method:"DELETE"});case 6:(n=e.sent).data.band&&P(n.data.text,n.data.icon,!0);case 8:case"end":return e.stop()}}),e)})))()}}};const q=(0,p.Z)(U,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("admin-layout",{attrs:{"app-name":t.appName}},[n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{cols:"12"}},[n("h1",{staticClass:"mt-2 mb-4"},[t._v("Blogs "),n("small",[t._v("Index")])])]),t._v(" "),n("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[n("div",{staticClass:"float-right"},[n("a",{staticClass:"btn btn-primary",attrs:{href:"/admin/blogs/create"}},[t._v("\n              Create new entry\n            ")])])]),t._v(" "),n("b-col",{attrs:{cols:"12"}},[n("blogs-table",{attrs:{blogs:t.blogs},on:{emitHandleSetEntryStatus:t.handleSetEntryStatus,emitHandleDestroyEntry:t.handleDestroyEntry}})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports;var G=n(9980),K=n.n(G);const M={props:{blog:Object,isEdit:{type:Boolean,default:function(){return!1}}},data:function(){return{bandPreview:!1,form:{title:"",thumbnail:"",content:""},preview:null}},created:function(){this.isEdit&&(this.form=this.blog)},methods:{previewContent:function(){var t=new(K());this.preview=t.render(this.form.content),this.bandPreview=!this.bandPreview},save:function(){_().fire({html:"<p>Saving entry...</p>",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1});var t=this.isEdit?"PUT":"POST",e=this.isEdit?"/admin/blogs/".concat(this.blog.id):"/admin/blogs";l()({url:e,method:t,data:this.form}).then((function(t){_().fire({icon:t.data.type,text:t.data.message,allowOutsideClick:!1,allowEscapeKey:!1}).then((function(){t.data.band&&(window.location.href="/admin/blogs")}))}))}}};var R=n(8784),z={insert:"head",singleton:!1};d()(R.Z,z);R.Z.locals;const J=(0,p.Z)(M,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("h1",{staticClass:"mt-2 mb-4"},[t._v("\n      Blog\n      "),n("small",[t.isEdit?n("span",[t._v("\n          Editar\n        ")]):n("span",[t._v("\n          Crear\n        ")])])]),t._v(" "),n("div",{staticClass:"float-left"},[t.bandPreview?n("button",{staticClass:"btn btn-secondary",on:{click:function(e){t.bandPreview=!t.bandPreview}}},[t._v("Go back")]):n("a",{staticClass:"btn btn-secondary",attrs:{href:"/admin/blogs"}},[t._v("Go back")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.bandPreview,expression:"!bandPreview"}],staticClass:"col-12 my-5"},[n("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.previewContent()}}},[n("div",{staticClass:"col-12 mb-3"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"title"}},[t._v("Title")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",attrs:{name:"title",type:"text"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"col-12 mb-3"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"title"}},[t._v("Thumbnail URL")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.thumbnail,expression:"form.thumbnail"}],staticClass:"form-control",attrs:{name:"title",type:"text"},domProps:{value:t.form.thumbnail},on:{input:function(e){e.target.composing||t.$set(t.form,"thumbnail",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"col-12 mb-4"},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"content"}},[t._v("Content")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.content,expression:"form.content"}],staticClass:"form-control",attrs:{rows:"20"},domProps:{value:t.form.content},on:{input:function(e){e.target.composing||t.$set(t.form,"content",e.target.value)}}})])]),t._v(" "),t._m(0)])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.bandPreview,expression:"bandPreview"}],staticClass:"col-12 blog-post"},[n("h1",[t._v(t._s(t.form.title))]),t._v(" "),n("p",[n("b",[t._v("URL:")]),t._v("\n      manuelojeda.xyz/Blog/"+t._s(t.form.seo)+"\n    ")]),t._v(" "),n("img",{staticClass:"img-fluid",attrs:{src:t.form.thumbnail}}),t._v(" "),n("div",{domProps:{innerHTML:t._s(t.preview)}}),t._v(" "),n("button",{staticClass:"btn btn-primary btn-info",attrs:{type:"submit"},on:{click:function(e){return t.save()}}},[t._v("Save entry")])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Preview content")])])}],!1,null,"3c8d55c6",null).exports,W={name:"AdminBlogEdit",props:{appName:String,blog:Object},components:{AdminBlogForm:J}};const X=(0,p.Z)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("admin-layout",{attrs:{"app-name":t.appName}},[n("b-container",{attrs:{fluid:""}},[n("admin-blog-form")],1)],1)],1)}),[],!1,null,null,null).exports;const Y={name:"AdminBlogEdit",props:{appName:String,blog:Object},components:{AdminBlogForm:J}};const Q=(0,p.Z)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("admin-layout",{attrs:{"app-name":t.appName}},[n("b-container",{attrs:{fluid:""}},[n("admin-blog-form",{attrs:{blog:t.blog,"is-edit":""}})],1)],1)],1)}),[],!1,null,null,null).exports;a.default.component("admin-layout",f),a.default.component("admin-dashboard",F),a.default.component("admin-blog-index",q),a.default.component("admin-blog-edit",Q),a.default.component("admin-blog-create",X),a.default.use(r.ZP),new a.default({}).$mount("#admin")},8784:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(1519),r=n.n(a)()((function(t){return t[1]}));r.push([t.id,"img.img-fluid[data-v-3c8d55c6]{max-width:350px}",""]);const i=r},261:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(1519),r=n.n(a)()((function(t){return t[1]}));r.push([t.id,".grid[data-v-b279f290]{display:grid;gap:30px;grid-template-columns:1fr 1fr}",""]);const i=r},7182:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(1519),r=n.n(a)()((function(t){return t[1]}));r.push([t.id,".admin-layout-grid[data-v-4e38b45e]{display:grid;grid-template-columns:250px 1fr;height:100vh}.admin-layout-grid .admin-layout-grid--sidebar[data-v-4e38b45e]{background-color:#015c83}.admin-layout-grid .admin-layout-grid--sidebar .sidebar[data-v-4e38b45e]{position:fixed;width:250px}.admin-layout-grid .admin-layout-grid--sidebar .menu .menu--link[data-v-4e38b45e]{border-radius:7px;color:#fff;display:block;padding:.5rem;transition:all .2s ease;width:100%}.admin-layout-grid .admin-layout-grid--sidebar .menu .menu--link[data-v-4e38b45e]:hover{background-color:#017bb0}",""]);const i=r}},t=>{t.O(0,[898],(()=>{return e=7547,t(t.s=e);var e}));t.O()}]);